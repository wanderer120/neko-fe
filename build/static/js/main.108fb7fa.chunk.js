(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{217:function(e,t,n){},231:function(e,t){},240:function(e,t){},258:function(e,t){},260:function(e,t){},276:function(e,t){},277:function(e,t){},343:function(e,t){},345:function(e,t){},354:function(e,t){},356:function(e,t){},381:function(e,t){},383:function(e,t){},384:function(e,t){},389:function(e,t){},391:function(e,t){},398:function(e,t){},411:function(e,t){},423:function(e,t){},426:function(e,t){},431:function(e,t){},442:function(e,t){},445:function(e,t){},497:function(e,t,n){},498:function(e,t,n){"use strict";n.r(t);var a,i=n(1),s=n(11),r=n.n(s),o=n(204),u=n.n(o),p=(n(217),n(30)),c=n.n(p),l=n(205),d=n(3),y=n(25),m=n(4),b=n(9),f=n(8),h=(n(219),n(206)),j=n.n(h),w=(n(497),"0x0CaE274079600c2175B5dC322c2F7FCdb5985A62"),v=[{inputs:[{internalType:"address",name:"ownerAddress",type:"address"},{internalType:"address[]",name:"techAddress",type:"address[]"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"itemId",type:"uint256"}],name:"BuyItemEvent",type:"event"},{constant:!1,inputs:[],name:"buyItemExt",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"referrer",type:"address"},{indexed:!0,internalType:"uint256",name:"userId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"referrerId",type:"uint256"}],name:"Registration",type:"event"},{constant:!1,inputs:[{internalType:"address",name:"referrerAddress",type:"address"}],name:"registrationExt",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"}],name:"SentExtraEthDividends",type:"event"},{constant:!1,inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allItems",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"power",type:"uint256"},{internalType:"uint256",name:"LastWinAmount",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"backCommission",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"modulo",type:"uint256"},{internalType:"uint256",name:"digits",type:"uint256"}],name:"generateRandomNum",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"user",type:"address"}],name:"getAllItemsByUser",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"operator",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idToAddress",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"user",type:"address"}],name:"isUserExists",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"itemPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"itemRewardPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"lastItemId",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"lastUserId",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"_owner",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"technicianAddress",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"uplineCommision",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"userAddressByItemId",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"users",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"itemCount",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],payable:!1,stateMutability:"view",type:"function"}],x=n(53),T=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this)).state={refAddress:"-1"},a.handleChange=a.handleChange.bind(Object(y.a)(a)),a.RegisterUser=a.RegisterUser.bind(Object(y.a)(a)),a}return Object(m.a)(n,[{key:"render",value:function(){return Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(i.jsx)("span",{children:"Referrer ETH wallet address:"}),Object(i.jsx)("input",{type:"text",name:"refAddress",onChange:this.handleChange}),Object(i.jsx)(x.a,{onClick:this.RegisterUser,children:"Register for 0.05 ETH"})]})}},{key:"handleChange",value:function(e){this.setState({refAddress:e.target.value})}},{key:"RegisterUser",value:function(){var e={from:this.props.userDetail.account,gas:8e6,gasPrice:window.web3.utils.toWei("60","Gwei"),gasLimit:8e6,value:window.web3.utils.toWei("0.05")};this.props.userDetail.contract.methods.registrationExt(this.state.refAddress).send(e).then((function(e){console.log(e),void 0!==e.blockHash&&(alert("Successfully Register"),window.location.reload())}),(function(e){alert(e.message)}))}}]),n}(s.Component),O=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).BuyItem=a.BuyItem.bind(Object(y.a)(a)),a}return Object(m.a)(n,[{key:"BuyItem",value:function(){var e={from:this.props.userDetail.account,gas:8e6,gasPrice:window.web3.utils.toWei("60","Gwei"),gasLimit:8e6,value:window.web3.utils.toWei("0.05")};this.props.userDetail.contract.methods.buyItemExt().send(e).then((function(e){console.log(e),void 0!==e.blockHash&&(alert("Successfully Buy 1 Item"),window.location.reload())}),(function(e){alert(e.message)}))}},{key:"render",value:function(){return Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(i.jsx)("span",{children:"Buy More Item: "}),Object(i.jsx)(x.a,{onClick:this.BuyItem,children:"0.05 ETH"})]})}}]),n}(s.Component),A=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(e){return Object(d.a)(this,n),t.call(this,e)}return Object(m.a)(n,[{key:"render",value:function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:"Stats:"}),Object(i.jsx)("br",{}),Object(i.jsxs)("span",{children:["Total owned items:",this.props.userDetail.itemCount]}),Object(i.jsx)("br",{}),Object(i.jsxs)("span",{children:["Total items in the universe:",this.props.universeItemCount]}),Object(i.jsx)("br",{}),Object(i.jsxs)("span",{children:["Probability getting rewards: ",this.props.userDetail.itemCount/this.props.universeItemCount*100,"%"]})]})}}]),n}(s.Component),g=n(108),I=n.n(g),k=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(e){return Object(d.a)(this,n),t.call(this,e)}return Object(m.a)(n,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this,t={height:"100px",padding:"30px",border:"1px solid blue"};return Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:"Inventory:"}),Object(i.jsx)(I.a,{arrowLeft:Object(i.jsx)("div",{style:{fontSize:"30px"},children:" < "}),arrowRight:Object(i.jsx)("div",{style:{fontSize:"30px"},children:" > "}),data:void 0!==this.props.itemIds?this.props.itemIds.map((function(n,a){return Object(i.jsxs)("div",{style:t,children:[Object(i.jsxs)("span",{children:["Item#",n]}),Object(i.jsx)("br",{}),Object(i.jsxs)("span",{children:["Power:",e.props.itemPowers[a]]}),Object(i.jsx)("br",{}),Object(i.jsxs)("span",{children:["Last Win:",parseFloat(e.props.lastWin[a]).toFixed(6),"\xa0ETH"]})]},n)})):""})]})}}]),n}(s.Component),C=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(e){return Object(d.a)(this,n),t.call(this,e)}return Object(m.a)(n,[{key:"render",value:function(){var e=this;return void 0!==this.props.winnerArr?this.props.winnerArr.map((function(t,n){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("span",{children:["#",n+1,":\xa0"]}),Object(i.jsxs)("span",{children:[t," - "]}),Object(i.jsxs)("span",{children:[parseFloat(e.props.winnerAmountArr[n]).toFixed(6),"\xa0ETH"]}),Object(i.jsx)("br",{})]},n)})):Object(i.jsx)("div",{})}}]),n}(s.Component),M=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(e){return Object(d.a)(this,n),t.call(this)}return Object(m.a)(n,[{key:"render",value:function(){return Object(i.jsxs)("div",{className:"container",children:[Object(i.jsxs)("p",{children:["Your account: ",this.props.userDetail.account]}),Object(i.jsxs)("p",{children:["Your balance: ",this.props.userDetail.balance," ETH"]}),this.props.userDetail.userExist?Object(i.jsx)(O,{userDetail:this.props.userDetail}):Object(i.jsx)(T,{userDetail:this.props.userDetail}),Object(i.jsx)(k,{itemIds:this.props.userDetail.itemIdArr,itemPowers:this.props.userDetail.itemPowerArr,lastWin:this.props.userDetail.lastWinArr}),Object(i.jsx)("br",{}),Object(i.jsx)(A,{userDetail:this.props.userDetail,universeItemCount:this.props.universeItemCount}),Object(i.jsx)("br",{}),Object(i.jsx)("span",{children:"Last Winner:"}),Object(i.jsx)("br",{}),Object(i.jsx)(C,{winnerArr:this.props.userDetail.winnerArr,winnerAmountArr:this.props.userDetail.winnerAmountArr})]})}}]),n}(s.Component),D=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(e){var i;return Object(d.a)(this,n),i=t.call(this,e),a=Object(y.a)(i),i.state={isLogin:!1,userDetail:{account:-1,balance:-1,contract:{}},userExist:!1,itemCount:-1,universeItemCount:-1,isW3:!1},i.LoginToMetamask=i.LoginToMetamask.bind(Object(y.a)(i)),"undefined"!==typeof window.ethereum&&i.setState({isW3:!0}),"undefined"!==typeof window.ethereum&&window.ethereum.on("accountsChanged",(function(e){if(W()){var t={};window.web3.eth.getAccounts().then((function(e){0===e.length?(console.log("MetaMask is locked"),a.setState({isLogin:!1})):(a.setState({isLogin:!0}),t.account=e[0],window.web3.eth.getBalance(e[0]).then((function(e){t.balance=window.web3.utils.fromWei(e),a.setState({userDetail:t})})),t.contract=new window.web3.eth.Contract(v,w),t.contract.methods.isUserExists(t.account).call().then((function(e){t.userExist=e,a.setState({userExist:e})})),t.contract.methods.users(t.account).call().then((function(e){t.itemCount=e.itemCount,a.setState({itemCount:e.itemCount})})),t.contract.methods.lastItemId().call().then((function(e){a.setState({universeItemCount:e})})),t.contract.methods.getAllItemsByUser(t.account).call().then((function(e){for(var n={idArr:[],powerArr:[],lastWinArr:[]},i=0;i<e[Object.keys(e)[0]].length;i++)n.idArr[i]=e[Object.keys(e)[0]][i],n.powerArr[i]=e[Object.keys(e)[1]][i],n.lastWinArr[i]=window.web3.utils.fromWei(e[Object.keys(e)[2]][i],"ether");t.itemIdArr=n.idArr,t.itemPowerArr=n.powerArr,t.lastWinArr=n.lastWinArr,a.setState({userDetail:t})})),t.contract.methods.lastItemId().call().then((function(e){if(e>8){t.winnerArr=[],t.winnerAmountArr=[];for(var n=function(e){t.contract.methods.allItems(e).call().then((function(n){t.winnerArr[e]=n.owner.substring(0,6)+"...",t.winnerAmountArr[e]=window.web3.utils.fromWei(n.LastWinAmount,"ether"),a.setState({userDetail:t})}))},i=0;i<8;i++)n(i)}})))}),(function(){console.log("fail callback")}))}else alert("Please install an Ethereum-compatible browser or extension like MetaMask to use this dApp!")})),i}return Object(m.a)(n,[{key:"componentWillMount",value:function(){this.loadBlockchainData()}},{key:"loadBlockchainData",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W()){e.next=4;break}alert("Please install an Ethereum-compatible browser or extension like MetaMask to use this dApp!"),e.next=8;break;case 4:return t={},e.next=7,window.web3.eth.getAccounts().then((function(e){0===e.length?(console.log("MetaMask is locked"),n.setState({isLogin:!1})):(n.setState({isLogin:!0}),t.account=e[0],window.web3.eth.getBalance(e[0]).then((function(e){t.balance=window.web3.utils.fromWei(e),n.setState({userDetail:t})})),t.contract=new window.web3.eth.Contract(v,w),t.contract.methods.isUserExists(t.account).call().then((function(e){t.userExist=e,n.setState({userExist:e})})),t.contract.methods.users(t.account).call().then((function(e){t.itemCount=e.itemCount,n.setState({itemCount:e.itemCount})})),t.contract.methods.lastItemId().call().then((function(e){n.setState({universeItemCount:e})})),t.contract.methods.getAllItemsByUser(t.account).call().then((function(e){for(var a={idArr:[],powerArr:[],lastWinArr:[]},i=0;i<e[Object.keys(e)[0]].length;i++)a.idArr[i]=e[Object.keys(e)[0]][i],a.powerArr[i]=e[Object.keys(e)[1]][i],a.lastWinArr[i]=window.web3.utils.fromWei(e[Object.keys(e)[2]][i],"ether");t.itemIdArr=a.idArr,t.itemPowerArr=a.powerArr,t.lastWinArr=a.lastWinArr,n.setState({userDetail:t})})),t.contract.methods.lastItemId().call().then((function(e){if(e>8){t.winnerArr=[],t.winnerAmountArr=[];for(var a=function(e){t.contract.methods.allItems(e).call().then((function(a){t.winnerArr[e]=a.owner.substring(0,6)+"...",t.winnerAmountArr[e]=window.web3.utils.fromWei(a.LastWinAmount,"ether"),n.setState({userDetail:t})}))},i=0;i<8;i++)a(i)}})))}),(function(){console.log("fail callback")}));case 7:e.sent;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),Object(m.a)(n,[{key:"render",value:function(){return this.state.isLogin?Object(i.jsx)(M,{userDetail:this.state.userDetail,universeItemCount:this.state.universeItemCount}):Object(i.jsx)("div",{className:"container",style:{display:"flex",justifyContent:"center"},children:Object(i.jsx)(x.a,{variant:"primary",onClick:this.LoginToMetamask,children:"Connect to Metamask"})})}},{key:"LoginToMetamask",value:function(){this.loadBlockchainData()}}]),n}(s.Component),W=function(){return!!window.ethereum&&(window.web3=new j.a(window.ethereum),window.ethereum.enable(),!0)},E=D,S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,502)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),s(e),r(e)}))};u.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(E,{})}),document.getElementById("root")),S()}},[[498,1,2]]]);
//# sourceMappingURL=main.108fb7fa.chunk.js.map