(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{217:function(e,t,n){},231:function(e,t){},240:function(e,t){},258:function(e,t){},260:function(e,t){},276:function(e,t){},277:function(e,t){},343:function(e,t){},345:function(e,t){},354:function(e,t){},356:function(e,t){},381:function(e,t){},383:function(e,t){},384:function(e,t){},389:function(e,t){},391:function(e,t){},398:function(e,t){},411:function(e,t){},423:function(e,t){},426:function(e,t){},431:function(e,t){},442:function(e,t){},445:function(e,t){},497:function(e,t,n){},498:function(e,t,n){"use strict";n.r(t);var i,a=n(1),s=n(11),r=n.n(s),o=n(204),u=n.n(o),c=(n(217),n(30)),l=n.n(c),p=n(205),d=n(3),y=n(25),m=n(4),b=n(9),h=n(8),f=(n(219),n(206)),j=n.n(f),w=(n(497),"0x6BF66790396CB4A5eec5211FEaBeE48f3A91e38A"),v=[{inputs:[{internalType:"address",name:"ownerAddress",type:"address"},{internalType:"address[]",name:"techAddress",type:"address[]"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"itemId",type:"uint256"}],name:"BuyItemEvent",type:"event"},{constant:!1,inputs:[],name:"buyItemExt",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"referrer",type:"address"},{indexed:!0,internalType:"uint256",name:"userId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"referrerId",type:"uint256"}],name:"Registration",type:"event"},{constant:!1,inputs:[{internalType:"address",name:"referrerAddress",type:"address"}],name:"registrationExt",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"}],name:"SentExtraEthDividends",type:"event"},{constant:!1,inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"singleTransfer",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{constant:!1,inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"x8Transfer",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"backCommission",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"modulo",type:"uint256"},{internalType:"uint256",name:"digits",type:"uint256"}],name:"generateRandomNum",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"user",type:"address"}],name:"getAllItemsByUser",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getWinners",outputs:[{internalType:"address[]",name:"",type:"address[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idToAddress",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"user",type:"address"}],name:"isUserExists",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"itemPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"itemRewardPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"lastItemId",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"lastUserId",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"_owner",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"technicianAddress",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"uplineCommision",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"userAddressByItemId",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"users",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"itemCount",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],payable:!1,stateMutability:"view",type:"function"}],x=n(53),O=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this)).state={refAddress:"-1"},i.handleChange=i.handleChange.bind(Object(y.a)(i)),i.RegisterUser=i.RegisterUser.bind(Object(y.a)(i)),i}return Object(m.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(a.jsx)("span",{children:"Referrer ETH wallet address:"}),Object(a.jsx)("input",{type:"text",name:"refAddress",onChange:this.handleChange}),Object(a.jsx)(x.a,{onClick:this.RegisterUser,children:"Register for 0.05 ETH"})]})}},{key:"handleChange",value:function(e){this.setState({refAddress:e.target.value})}},{key:"RegisterUser",value:function(){var e={from:this.props.userDetail.account,gas:8e6,gasPrice:window.web3.utils.toWei("60","Gwei"),gasLimit:8e6,value:window.web3.utils.toWei("0.05")};this.props.userDetail.contract.methods.registrationExt(this.state.refAddress).send(e).then((function(e){console.log(e),void 0!==e.blockHash&&(alert("Successfully Register"),window.location.reload())}),(function(e){alert(e.message)}))}}]),n}(s.Component),A=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).BuyItem=i.BuyItem.bind(Object(y.a)(i)),i}return Object(m.a)(n,[{key:"BuyItem",value:function(){var e={from:this.props.userDetail.account,gas:8e6,gasPrice:window.web3.utils.toWei("60","Gwei"),gasLimit:8e6,value:window.web3.utils.toWei("0.05")};this.props.userDetail.contract.methods.buyItemExt().send(e).then((function(e){console.log(e),void 0!==e.blockHash&&(alert("Successfully Buy 1 Item"),window.location.reload())}),(function(e){alert(e.message)}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(a.jsx)("span",{children:"Buy More Item: "}),Object(a.jsx)(x.a,{onClick:this.BuyItem,children:"0.05 ETH"})]})}}]),n}(s.Component),T=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(d.a)(this,n),t.call(this,e)}return Object(m.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Stats:"}),Object(a.jsx)("br",{}),Object(a.jsxs)("span",{children:["Total owned items:",this.props.userDetail.itemCount]}),Object(a.jsx)("br",{}),Object(a.jsxs)("span",{children:["Total items in the universe:",this.props.universeItemCount]}),Object(a.jsx)("br",{}),Object(a.jsxs)("span",{children:["Probability getting rewards: ",this.props.userDetail.itemCount/this.props.universeItemCount*100,"%"]})]})}}]),n}(s.Component),g=n(108),k=n.n(g),I=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(d.a)(this,n),t.call(this,e)}return Object(m.a)(n,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this,t={height:"100px",padding:"30px",border:"1px solid blue"};return Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Inventory:"}),Object(a.jsx)(k.a,{arrowLeft:Object(a.jsx)("div",{style:{fontSize:"30px"},children:" < "}),arrowRight:Object(a.jsx)("div",{style:{fontSize:"30px"},children:" > "}),data:void 0!==this.props.itemIds?this.props.itemIds.map((function(n,i){return Object(a.jsxs)("div",{style:t,children:[Object(a.jsxs)("span",{children:["Item#",n]}),Object(a.jsx)("br",{}),Object(a.jsxs)("span",{children:["Power:",e.props.itemPowers[i]]}),Object(a.jsx)("br",{}),Object(a.jsxs)("span",{children:["Last Win:",parseFloat(e.props.lastWin[i]).toFixed(6),"\xa0ETH"]})]},n)})):""})]})}}]),n}(s.Component),C=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(d.a)(this,n),t.call(this,e)}return Object(m.a)(n,[{key:"render",value:function(){var e=this;return void 0!==this.props.winnerArr?this.props.winnerArr.map((function(t,n){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("span",{children:["#",n+1,":\xa0"]}),Object(a.jsxs)("span",{children:[t," - "]}),Object(a.jsxs)("span",{children:[parseFloat(e.props.winnerAmountArr[n]).toFixed(6),"\xa0ETH"]}),Object(a.jsx)("br",{})]},n)})):Object(a.jsx)("div",{})}}]),n}(s.Component),M=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(d.a)(this,n),t.call(this)}return Object(m.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("p",{children:["Your account: ",this.props.userDetail.account]}),Object(a.jsxs)("p",{children:["Your balance: ",this.props.userDetail.balance," ETH"]}),this.props.userDetail.userExist?Object(a.jsx)(A,{userDetail:this.props.userDetail}):Object(a.jsx)(O,{userDetail:this.props.userDetail}),Object(a.jsx)(I,{itemIds:this.props.userDetail.itemIdArr,itemPowers:this.props.userDetail.itemPowerArr,lastWin:this.props.userDetail.lastWinArr}),Object(a.jsx)("br",{}),Object(a.jsx)(T,{userDetail:this.props.userDetail,universeItemCount:this.props.universeItemCount}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:"Last Winner:"}),Object(a.jsx)("br",{}),Object(a.jsx)(C,{winnerArr:this.props.userDetail.winnerArr,winnerAmountArr:this.props.userDetail.winnerAmountArr})]})}}]),n}(s.Component),D=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(d.a)(this,n),a=t.call(this,e),i=Object(y.a)(a),a.state={isLogin:!1,userDetail:{account:-1,balance:-1,contract:{}},userExist:!1,itemCount:-1,universeItemCount:-1,isW3:!1},a.LoginToMetamask=a.LoginToMetamask.bind(Object(y.a)(a)),"undefined"!==typeof window.ethereum&&a.setState({isW3:!0}),"undefined"!==typeof window.ethereum&&window.ethereum.on("accountsChanged",(function(e){if(W()){var t={};window.web3.eth.getAccounts().then((function(e){0===e.length?(console.log("MetaMask is locked"),i.setState({isLogin:!1})):(i.setState({isLogin:!0}),t.account=e[0],window.web3.eth.getBalance(e[0]).then((function(e){t.balance=window.web3.utils.fromWei(e),i.setState({userDetail:t})})),t.contract=new window.web3.eth.Contract(v,w),t.contract.methods.isUserExists(t.account).call().then((function(e){t.userExist=e,i.setState({userExist:e})})),t.contract.methods.users(t.account).call().then((function(e){t.itemCount=e.itemCount,i.setState({itemCount:e.itemCount})})),t.contract.methods.lastItemId().call().then((function(e){i.setState({universeItemCount:e})})),t.contract.methods.getAllItemsByUser(t.account).call().then((function(e){for(var n={idArr:[],powerArr:[],lastWinArr:[]},a=0;a<e[Object.keys(e)[0]].length;a++)n.idArr[a]=e[Object.keys(e)[0]][a],n.powerArr[a]=e[Object.keys(e)[1]][a],n.lastWinArr[a]=window.web3.utils.fromWei(e[Object.keys(e)[2]][a],"ether");t.itemIdArr=n.idArr,t.itemPowerArr=n.powerArr,t.lastWinArr=n.lastWinArr,i.setState({userDetail:t})})),t.contract.methods.lastItemId().call().then((function(e){if(e>8){t.winnerArr=[],t.winnerAmountArr=[];for(var n=function(e){t.contract.methods.getWinners().call().then((function(n){t.winnerArr[e]=n[Object.keys(n)[0]][e].substring(0,6)+"...",t.winnerAmountArr[e]=window.web3.utils.fromWei(n[Object.keys(n)[1]][e],"ether"),i.setState({userDetail:t})}))},a=0;a<8;a++)n(a)}})))}),(function(){console.log("fail callback")}))}else alert("Please install an Ethereum-compatible browser or extension like MetaMask to use this dApp!")})),a}return Object(m.a)(n,[{key:"componentWillMount",value:function(){this.loadBlockchainData()}},{key:"loadBlockchainData",value:function(){var e=Object(p.a)(l.a.mark((function e(){var t,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W()){e.next=4;break}alert("Please install an Ethereum-compatible browser or extension like MetaMask to use this dApp!"),e.next=8;break;case 4:return t={},e.next=7,window.web3.eth.getAccounts().then((function(e){0===e.length?(console.log("MetaMask is locked"),n.setState({isLogin:!1})):(n.setState({isLogin:!0}),t.account=e[0],window.web3.eth.getBalance(e[0]).then((function(e){t.balance=window.web3.utils.fromWei(e),n.setState({userDetail:t})})),t.contract=new window.web3.eth.Contract(v,w),t.contract.methods.isUserExists(t.account).call().then((function(e){t.userExist=e,n.setState({userExist:e})})),t.contract.methods.users(t.account).call().then((function(e){t.itemCount=e.itemCount,n.setState({itemCount:e.itemCount})})),t.contract.methods.lastItemId().call().then((function(e){n.setState({universeItemCount:e})})),t.contract.methods.getAllItemsByUser(t.account).call().then((function(e){for(var i={idArr:[],powerArr:[],lastWinArr:[]},a=0;a<e[Object.keys(e)[0]].length;a++)i.idArr[a]=e[Object.keys(e)[0]][a],i.powerArr[a]=e[Object.keys(e)[1]][a],i.lastWinArr[a]=window.web3.utils.fromWei(e[Object.keys(e)[2]][a],"ether");t.itemIdArr=i.idArr,t.itemPowerArr=i.powerArr,t.lastWinArr=i.lastWinArr,n.setState({userDetail:t})})),t.contract.methods.lastItemId().call().then((function(e){if(e>8){t.winnerArr=[],t.winnerAmountArr=[];for(var i=function(e){t.contract.methods.getWinners().call().then((function(i){t.winnerArr[e]=i[Object.keys(i)[0]][e].substring(0,6)+"...",t.winnerAmountArr[e]=window.web3.utils.fromWei(i[Object.keys(i)[1]][e],"ether"),n.setState({userDetail:t})}))},a=0;a<8;a++)i(a)}})))}),(function(){console.log("fail callback")}));case 7:e.sent;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),Object(m.a)(n,[{key:"render",value:function(){return this.state.isLogin?Object(a.jsx)(M,{userDetail:this.state.userDetail,universeItemCount:this.state.universeItemCount}):Object(a.jsx)("div",{className:"container",style:{display:"flex",justifyContent:"center"},children:Object(a.jsx)(x.a,{variant:"primary",onClick:this.LoginToMetamask,children:"Connect to Metamask"})})}},{key:"LoginToMetamask",value:function(){this.loadBlockchainData()}}]),n}(s.Component),W=function(){return!!window.ethereum&&(window.web3=new j.a(window.ethereum),window.ethereum.enable(),!0)},E=D,S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,502)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),s(e),r(e)}))};u.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(E,{})}),document.getElementById("root")),S()}},[[498,1,2]]]);
//# sourceMappingURL=main.be6ae196.chunk.js.map