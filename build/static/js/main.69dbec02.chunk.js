(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{217:function(t,e,n){},231:function(t,e){},240:function(t,e){},258:function(t,e){},260:function(t,e){},276:function(t,e){},277:function(t,e){},343:function(t,e){},345:function(t,e){},354:function(t,e){},356:function(t,e){},381:function(t,e){},383:function(t,e){},384:function(t,e){},389:function(t,e){},391:function(t,e){},398:function(t,e){},411:function(t,e){},423:function(t,e){},426:function(t,e){},431:function(t,e){},442:function(t,e){},445:function(t,e){},497:function(t,e,n){},498:function(t,e,n){"use strict";n.r(e);var i,a=n(1),s=n(11),r=n.n(s),o=n(204),u=n.n(o),c=(n(217),n(30)),l=n.n(c),p=n(205),d=n(3),y=n(25),b=n(4),m=n(9),h=n(8),f=(n(219),n(206)),j=n.n(f),w=(n(497),"0xD5da4863896C82328cA276C4d2E6f8963865C624"),O=[{inputs:[{internalType:"address",name:"ownerAddress",type:"address"},{internalType:"address[]",name:"techAddress",type:"address[]"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"Users",outputs:[{internalType:"uint64",name:"itemCount",type:"uint64"},{internalType:"address",name:"referrer",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"backCommission",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"buyItemExt",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"user",type:"address"}],name:"getAllItemsByUser",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"getItemData",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"getItemLastWin",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"getItemPower",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getWinners",outputs:[{internalType:"address[]",name:"",type:"address[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getWinnersArr",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"giveRewardsExt",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"giveRewardsTest",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"user",type:"address"}],name:"isUserExists",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"itemByItemId",outputs:[{internalType:"uint256",name:"data",type:"uint256"},{internalType:"address",name:"user",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"itemPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"itemRewardPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"lastItemId",outputs:[{internalType:"uint64",name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"_owner",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"refAddress",type:"address"}],name:"registrationExt",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint256",name:"_power",type:"uint256"},{internalType:"uint256",name:"_lastWin",type:"uint256"}],name:"setItemData",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"technicianAddress",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"uplineCommision",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"winnerData",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],v=n(53),x=function(t){Object(m.a)(n,t);var e=Object(h.a)(n);function n(t){var i;return Object(d.a)(this,n),(i=e.call(this)).state={refAddress:"-1"},i.handleChange=i.handleChange.bind(Object(y.a)(i)),i.RegisterUser=i.RegisterUser.bind(Object(y.a)(i)),i}return Object(b.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(a.jsx)("span",{children:"Referrer ETH wallet address:"}),Object(a.jsx)("input",{type:"text",name:"refAddress",onChange:this.handleChange}),Object(a.jsx)(v.a,{onClick:this.RegisterUser,children:"Register for 0.05 ETH"})]})}},{key:"handleChange",value:function(t){this.setState({refAddress:t.target.value})}},{key:"RegisterUser",value:function(){var t={from:this.props.userDetail.account,gas:8e6,gasPrice:window.web3.utils.toWei("60","Gwei"),gasLimit:8e6,value:window.web3.utils.toWei("0.05")};this.props.userDetail.contract.methods.registrationExt(this.state.refAddress).send(t).then((function(t){console.log(t),void 0!==t.blockHash&&(alert("Successfully Register"),window.location.reload())}),(function(t){alert(t.message)}))}}]),n}(s.Component),g=function(t){Object(m.a)(n,t);var e=Object(h.a)(n);function n(t){var i;return Object(d.a)(this,n),(i=e.call(this,t)).BuyItem=i.BuyItem.bind(Object(y.a)(i)),i}return Object(b.a)(n,[{key:"BuyItem",value:function(){var t={from:this.props.userDetail.account,gas:8e6,gasPrice:window.web3.utils.toWei("60","Gwei"),gasLimit:8e6,value:window.web3.utils.toWei("0.05")};this.props.userDetail.contract.methods.buyItemExt().send(t).then((function(t){console.log(t),void 0!==t.blockHash&&(alert("Successfully Buy 1 Item"),window.location.reload())}),(function(t){alert(t.message)}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(a.jsx)("span",{children:"Buy More Item: "}),Object(a.jsx)(v.a,{onClick:this.BuyItem,children:"0.05 ETH"})]})}}]),n}(s.Component),A=function(t){Object(m.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(d.a)(this,n),e.call(this,t)}return Object(b.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Stats:"}),Object(a.jsx)("br",{}),Object(a.jsxs)("span",{children:["Total owned items:",this.props.userDetail.itemCount]}),Object(a.jsx)("br",{}),Object(a.jsxs)("span",{children:["Total items in the universe:",this.props.universeItemCount]}),Object(a.jsx)("br",{}),Object(a.jsxs)("span",{children:["Probability getting rewards: ",this.props.userDetail.itemCount/this.props.universeItemCount*100,"%"]})]})}}]),n}(s.Component),k=n(108),T=n.n(k),C=function(t){Object(m.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(d.a)(this,n),e.call(this,t)}return Object(b.a)(n,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var t=this,e={height:"100px",padding:"30px",border:"1px solid blue"};return Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Inventory:"}),Object(a.jsx)(T.a,{arrowLeft:Object(a.jsx)("div",{style:{fontSize:"30px"},children:" < "}),arrowRight:Object(a.jsx)("div",{style:{fontSize:"30px"},children:" > "}),data:void 0!==this.props.itemIds?this.props.itemIds.map((function(n,i){return Object(a.jsxs)("div",{style:e,children:[Object(a.jsxs)("span",{children:["Item#",n]}),Object(a.jsx)("br",{}),Object(a.jsxs)("span",{children:["Power:",t.props.itemPowers[i]]}),Object(a.jsx)("br",{}),Object(a.jsxs)("span",{children:["Last Win:",parseFloat(t.props.lastWin[i]).toFixed(6),"\xa0ETH"]})]},n)})):""})]})}}]),n}(s.Component),I=function(t){Object(m.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(d.a)(this,n),e.call(this,t)}return Object(b.a)(n,[{key:"render",value:function(){var t=this;return void 0!==this.props.winnerArr?this.props.winnerArr.map((function(e,n){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("span",{children:["#",n+1,":\xa0"]}),Object(a.jsxs)("span",{children:[e," - "]}),Object(a.jsxs)("span",{children:[parseFloat(t.props.winnerAmountArr[n]).toFixed(6),"\xa0ETH"]}),Object(a.jsx)("br",{})]},n)})):Object(a.jsx)("div",{})}}]),n}(s.Component),M=function(t){Object(m.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(d.a)(this,n),e.call(this)}return Object(b.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("p",{children:["Your account: ",this.props.userDetail.account]}),Object(a.jsxs)("p",{children:["Your balance: ",this.props.userDetail.balance," ETH"]}),this.props.userDetail.userExist?Object(a.jsx)(g,{userDetail:this.props.userDetail}):Object(a.jsx)(x,{userDetail:this.props.userDetail}),Object(a.jsx)(C,{itemIds:this.props.userDetail.itemIdArr,itemPowers:this.props.userDetail.itemPowerArr,lastWin:this.props.userDetail.lastWinArr}),Object(a.jsx)("br",{}),Object(a.jsx)(A,{userDetail:this.props.userDetail,universeItemCount:this.props.universeItemCount}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:"Last Winner:"}),Object(a.jsx)("br",{}),Object(a.jsx)(I,{winnerArr:this.props.userDetail.winnerArr,winnerAmountArr:this.props.userDetail.winnerAmountArr})]})}}]),n}(s.Component),D=function(t){Object(m.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(d.a)(this,n),a=e.call(this,t),i=Object(y.a)(a),a.state={isLogin:!1,userDetail:{account:-1,balance:-1,contract:{}},userExist:!1,itemCount:-1,universeItemCount:-1,isW3:!1},a.LoginToMetamask=a.LoginToMetamask.bind(Object(y.a)(a)),"undefined"!==typeof window.ethereum&&a.setState({isW3:!0}),"undefined"!==typeof window.ethereum&&window.ethereum.on("accountsChanged",(function(t){if(W()){var e={};window.web3.eth.getAccounts().then((function(t){0===t.length?(console.log("MetaMask is locked"),i.setState({isLogin:!1})):(i.setState({isLogin:!0}),e.account=t[0],window.web3.eth.getBalance(t[0]).then((function(t){e.balance=window.web3.utils.fromWei(t),i.setState({userDetail:e})})),e.contract=new window.web3.eth.Contract(O,w),e.contract.methods.isUserExists(e.account).call().then((function(t){e.userExist=t,i.setState({userExist:t})})),e.contract.methods.Users(e.account).call().then((function(t){e.itemCount=t.itemCount,i.setState({itemCount:t.itemCount})})),e.contract.methods.getAllItemsByUser(e.account).call().then((function(t){for(var n={idArr:[],powerArr:[],lastWinArr:[]},a=0;a<t[Object.keys(t)[0]].length;a++)n.idArr[a]=t[Object.keys(t)[0]][a],console.log(t[Object.keys(t)[2]][a]),n.powerArr[a]=t[Object.keys(t)[1]][a],n.lastWinArr[a]=window.web3.utils.fromWei(t[Object.keys(t)[2]][a],"ether");e.itemIdArr=n.idArr,e.itemPowerArr=n.powerArr,e.lastWinArr=n.lastWinArr,i.setState({userDetail:e})})),e.contract.methods.lastItemId().call().then((function(t){if(i.setState({universeItemCount:t-1}),t>8){e.winnerArr=[],e.winnerAmountArr=[];for(var n=function(t){e.contract.methods.getWinners().call().then((function(n){e.winnerArr[t]=n[Object.keys(n)[0]][t].substring(0,6)+"...",e.winnerAmountArr[t]=window.web3.utils.fromWei(n[Object.keys(n)[1]][t],"ether"),i.setState({userDetail:e})}))},a=0;a<8;a++)n(a)}})))}),(function(){console.log("fail callback")}))}else alert("Please install an Ethereum-compatible browser or extension like MetaMask to use this dApp!")})),a}return Object(b.a)(n,[{key:"componentWillMount",value:function(){this.loadBlockchainData()}},{key:"loadBlockchainData",value:function(){var t=Object(p.a)(l.a.mark((function t(){var e,n=this;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(W()){t.next=4;break}alert("Please install an Ethereum-compatible browser or extension like MetaMask to use this dApp!"),t.next=8;break;case 4:return e={},t.next=7,window.web3.eth.getAccounts().then((function(t){0===t.length?(console.log("MetaMask is locked"),n.setState({isLogin:!1})):(n.setState({isLogin:!0}),e.account=t[0],window.web3.eth.getBalance(t[0]).then((function(t){e.balance=window.web3.utils.fromWei(t),n.setState({userDetail:e})})),e.contract=new window.web3.eth.Contract(O,w),e.contract.methods.isUserExists(e.account).call().then((function(t){e.userExist=t,n.setState({userExist:t})})),e.contract.methods.Users(e.account).call().then((function(t){e.itemCount=t.itemCount,n.setState({itemCount:t.itemCount})})),e.contract.methods.getAllItemsByUser(e.account).call().then((function(t){for(var i={idArr:[],powerArr:[],lastWinArr:[]},a=0;a<t[Object.keys(t)[0]].length;a++)i.idArr[a]=t[Object.keys(t)[0]][a],i.powerArr[a]=t[Object.keys(t)[1]][a],i.lastWinArr[a]=window.web3.utils.fromWei(t[Object.keys(t)[2]][a],"ether");e.itemIdArr=i.idArr,e.itemPowerArr=i.powerArr,e.lastWinArr=i.lastWinArr,n.setState({userDetail:e})})),e.contract.methods.lastItemId().call().then((function(t){if(n.setState({universeItemCount:t-1}),t>8){e.winnerArr=[],e.winnerAmountArr=[];for(var i=function(t){e.contract.methods.getWinners().call().then((function(i){e.winnerArr[t]=i[Object.keys(i)[0]][t].substring(0,6)+"...",e.winnerAmountArr[t]=window.web3.utils.fromWei(i[Object.keys(i)[1]][t],"ether"),n.setState({userDetail:e})}))},a=0;a<8;a++)i(a)}})))}),(function(){console.log("fail callback")}));case 7:t.sent;case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),Object(b.a)(n,[{key:"render",value:function(){return this.state.isLogin?Object(a.jsx)(M,{userDetail:this.state.userDetail,universeItemCount:this.state.universeItemCount}):Object(a.jsx)("div",{className:"container",style:{display:"flex",justifyContent:"center"},children:Object(a.jsx)(v.a,{variant:"primary",onClick:this.LoginToMetamask,children:"Connect to Metamask"})})}},{key:"LoginToMetamask",value:function(){this.loadBlockchainData()}}]),n}(s.Component),W=function(){return!!window.ethereum&&(window.web3=new j.a(window.ethereum),window.ethereum.enable(),!0)},S=D,E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,502)).then((function(e){var n=e.getCLS,i=e.getFID,a=e.getFCP,s=e.getLCP,r=e.getTTFB;n(t),i(t),a(t),s(t),r(t)}))};u.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(S,{})}),document.getElementById("root")),E()}},[[498,1,2]]]);
//# sourceMappingURL=main.69dbec02.chunk.js.map